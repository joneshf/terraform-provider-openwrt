---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "openwrt_dhcp_dhcp Resource - openwrt"
subcategory: ""
description: |-
  Per interface lease pools and settings for serving DHCP requests.
---

# openwrt_dhcp_dhcp (Resource)

Per interface lease pools and settings for serving DHCP requests.

## Example Usage

```terraform
resource "openwrt_network_device" "br_testing" {
  id   = "br_testing"
  name = "br-testing"
  ports = [
    "eth0",
    "eth1",
    "eth2.20",
  ]
  type = "bridge"
}

resource "openwrt_network_interface" "testing" {
  device = openwrt_network_device.br_testing.name
  dns = [
    "9.9.9.9",
    "1.1.1.1",
  ]
  id      = "testing"
  ipaddr  = "192.168.3.1"
  netmask = "255.255.255.0"
  proto   = "static"
}

resource "openwrt_dhcp_dhcp" "testing" {
  dhcpv4    = "server"
  dhcpv6    = "server"
  id        = "testing"
  interface = openwrt_network_interface.testing.id
  leasetime = "12h"
  limit     = 150
  ra_flags = [
    "managed-config",
    "other-config",
  ]
  start = 100
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `id` (String) Name of the section. This name is only used when interacting with UCI directly.

### Optional

- `dhcpv4` (String) The mode of the DHCPv4 server. Must be one of: "disabled", "server".
- `dhcpv6` (String) The mode of the DHCPv6 server. Must be one of: "disabled", "relay", "server".
- `force` (Boolean) Forces DHCP serving on the specified interface even if another DHCP server is detected on the same network segment.
- `ignore` (Boolean) Specifies whether dnsmasq should ignore this pool.
- `interface` (String) The interface associated with this DHCP address pool. This name is what the interface is known as in UCI, or the `id` field in Terraform. Required if `ignore` is not `true`.
- `leasetime` (String) The lease time of addresses handed out to clients. E.g. `12h`, or `30m`. Required if `ignore` is not `true`.
- `limit` (Number) Specifies the size of the address pool. E.g. With start = 100, and limit = 150, the maximum address will be 249. Required if `ignore` is not `true`.
- `ra` (String) The mode of Router Advertisements. Must be one of: "disabled", "relay", "server".
- `ra_flags` (Set of String) Router Advertisement flags to include in messages. Must be one of: "home-agent", "managed-config", "none", "other-config".
- `start` (Number) Specifies the offset from the network address of the underlying interface to calculate the minimum address that may be leased to clients. It may be greater than 255 to span subnets. Required if `ignore` is not `true`.

## Import

Import is supported using the following syntax:

```shell
# Find the Terraform id from LuCI's JSON-RPC API.
# One way to find this information is with `curl` and `jq`:
#
# curl \
#     --data '{"id": 0, "method": "foreach", "params": ["dhcp", "dhcp"]}' \
#     http://192.168.1.1/cgi-bin/luci/rpc/uci?auth=$AUTH_TOKEN \
#     | jq '.result | map({name: .[".name"]})'
#
# This command will output something like:
#
# [
#   {
#     "name": "lan",
#   },
#   {
#     "name": "guest",
#   }
# ]
#
# We'd then use the information to import the appropriate resource:

terraform import openwrt_dhcp_dhcp.lan lan
```
