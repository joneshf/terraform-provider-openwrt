---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "openwrt_network_switch_vlan Resource - openwrt"
subcategory: ""
description: |-
  Legacy VLAN configuration
---

# openwrt_network_switch_vlan (Resource)

Legacy VLAN configuration

## Example Usage

```terraform
resource "openwrt_network_switch" "testing" {
  enable_vlan = true
  id          = "testing"
  name        = "switch0"
}

resource "openwrt_network_switch_vlan" "testing" {
  device = openwrt_network_switch.testing.name
  id     = "testing"
  ports  = "0t 1t"
  vid    = "10"
  vlan   = "2"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `device` (String) The switch to configure.
- `id` (String) Name of the section. This name is only used when interacting with UCI directly.
- `ports` (String) A string of space-separated port indicies that should be associated with the VLAN. Adding the suffix `"t"` to a port indicates that egress packets should be tagged, for example `"0 1 3t 5t"`.
- `vlan` (Number) The VLAN "table index" to configure. This index corresponds to the order on LuCI's UI

### Optional

- `description` (String) A human-readable description of the VLAN configuration.
- `vid` (Number) The VLAN tag number to use.

## Import

Import is supported using the following syntax:

```shell
# The name can be found through LuCI's web UI.
# It will be in quotes on `/cgi-bin/luci/admin/network/switch`.
# The page might say:
#     Switch "switch0"
#
# The "switch0" is the name.
# The name can also be found from LuCI's JSON-RPC API.
#
# Find the Terraform id and UCI name from LuCI's JSON-RPC API.
# One way to find this information is with `curl` and `jq`:
#
# curl \
#     --data '{"id": 0, "method": "foreach", "params": ["network", "switch_vlan"]}' \
#     http://192.168.1.1/cgi-bin/luci/rpc/uci?auth=$AUTH_TOKEN \
#     | jq '.result | map({terraformId: .[".name"], uciName: .name})'
#
# This command will output something like:
#
# [
#   {
#     "terraformId": "cfg123456",
#     "uciName": "switch0"
#   }
# ]
#
# We'd then use the information to import the appropriate resource:

terraform import openwrt_network_switch_vlan.switch0 cfg123456
```
